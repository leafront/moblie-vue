{"remainingRequest":"/Users/shanliguo/Documents/wm-mobile/mobile-vue/node_modules/babel-loader/lib/index.js!/Users/shanliguo/Documents/wm-mobile/mobile-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shanliguo/Documents/wm-mobile/mobile-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shanliguo/Documents/wm-mobile/mobile-vue/src/view/business/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shanliguo/Documents/wm-mobile/mobile-vue/src/view/business/index.vue","mtime":1554798112823},{"path":"/Users/shanliguo/Documents/wm-mobile/mobile-vue/node_modules/cache-loader/dist/cjs.js","mtime":1551093967131},{"path":"/Users/shanliguo/Documents/wm-mobile/mobile-vue/node_modules/babel-loader/lib/index.js","mtime":1551093966843},{"path":"/Users/shanliguo/Documents/wm-mobile/mobile-vue/node_modules/cache-loader/dist/cjs.js","mtime":1551093967131},{"path":"/Users/shanliguo/Documents/wm-mobile/mobile-vue/node_modules/vue-loader/lib/index.js","mtime":1551093973497}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport _objectSpread from \"/Users/shanliguo/Documents/wm-mobile/mobile-vue/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.object.assign\";\nimport _defineProperty from \"/Users/shanliguo/Documents/wm-mobile/mobile-vue/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\nimport \"vant/es/pull-refresh/style\";\nimport _PullRefresh from \"vant/es/pull-refresh\";\nimport \"vant/es/popup/style\";\nimport _Popup from \"vant/es/popup\";\nimport \"vant/es/datetime-picker/style\";\nimport _DatetimePicker from \"vant/es/datetime-picker\";\nimport \"vant/es/goods-action-mini-btn/style\";\nimport _GoodsActionMiniBtn from \"vant/es/goods-action-mini-btn\";\nimport \"vant/es/goods-action-big-btn/style\";\nimport _GoodsActionBigBtn from \"vant/es/goods-action-big-btn\";\nimport \"vant/es/goods-action/style\";\nimport _GoodsAction from \"vant/es/goods-action\";\nimport \"vant/es/swipe-item/style\";\nimport _SwipeItem from \"vant/es/swipe-item\";\nimport \"vant/es/swipe/style\";\nimport _Swipe from \"vant/es/swipe\";\nimport \"vant/es/cell-group/style\";\nimport _CellGroup from \"vant/es/cell-group\";\nimport \"vant/es/cell/style\";\nimport _Cell from \"vant/es/cell\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/col/style\";\nimport _Col from \"vant/es/col\";\nimport \"vant/es/tag/style\";\nimport _Tag from \"vant/es/tag\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n\nvar _components;\n\nimport storeData from './store/index';\nimport ajax from '@/api/business';\nimport moment from 'moment';\nimport { payFundStatus } from '@/filters/status';\nimport { orderStatus, refundStatus } from './filters';\nexport default {\n  components: (_components = {}, _defineProperty(_components, _Tag.name, _Tag), _defineProperty(_components, _Col.name, _Col), _defineProperty(_components, _Icon.name, _Icon), _defineProperty(_components, _Cell.name, _Cell), _defineProperty(_components, _CellGroup.name, _CellGroup), _defineProperty(_components, _Swipe.name, _Swipe), _defineProperty(_components, _SwipeItem.name, _SwipeItem), _defineProperty(_components, _GoodsAction.name, _GoodsAction), _defineProperty(_components, _GoodsActionBigBtn.name, _GoodsActionBigBtn), _defineProperty(_components, _GoodsActionMiniBtn.name, _GoodsActionMiniBtn), _defineProperty(_components, \"DatetimePicker\", _DatetimePicker), _defineProperty(_components, \"Popup\", _Popup), _defineProperty(_components, _PullRefresh.name, _PullRefresh), _defineProperty(_components, _List.name, _List), _components),\n  data: function data() {\n    return Object.assign(storeData.call(this), {\n      queryOrder: {\n        orderStatus: '',\n        // 0 待支付，2 成功，8 订单关闭， 10 退款\n        startDate: '',\n        endDate: '',\n        tradeOrderNo: '',\n        payOrderType: 'xxsk',\n        limit: 20,\n        page: 1\n      },\n      orderStatusShow: false,\n      orderObject: {\n        '0': '待支付',\n        '2': '交易成功',\n        '8': '订单关闭',\n        '10': '有退款'\n      },\n      orderSumAmount: {\n        total: '',\n        in: '',\n        out: ''\n      },\n      dateTimePickerStatus: false,\n      minDate: '',\n      maxDate: '',\n      orderStatusText: '全部',\n      orderStatusActive: false,\n      total: 0,\n      isLoading: false,\n      //控制下拉刷新的加载动画\n      loading: false,\n      //控制上拉加载的加载动画\n      finished: false,\n      //控制在页面往下移动到底部时是否调用接口获取数据\n      loadingText: '加载中…',\n      offset: 20\n    });\n  },\n  created: function created() {\n    // 详情退回到首页 按日期查询\n    if (this.$route.query && this.$route.query.date) {\n      this.dateSearch = new Date(this.$route.query.date.slice(0, 4), this.$route.query.date.slice(4, 6) * 1 - 1, this.$route.query.date.slice(6, 8));\n    } else {\n      this.dateSearch = new Date();\n    }\n\n    if (this.$route.query && this.$route.query.orderStatusStr) {\n      this.orderSelected = this.$route.query.orderStatusStr;\n    }\n\n    this.minDate = new Date(2019, 0, 1);\n    this.maxDate = new Date();\n    this.queryOrder = _objectSpread({}, this.queryOrder, {\n      page: 1,\n      startDate: moment(this.dateSearch).format(\"YYYYMMDD\") + '000000',\n      endDate: moment(this.dateSearch).format(\"YYYYMMDD\") + \"235959\"\n    });\n    this.getOrderSumAmount();\n    this.init();\n  },\n  methods: {\n    //下拉刷新\n    onRefresh: function onRefresh() {\n      var self = this;\n      setTimeout(function () {\n        self.total = 0;\n        self.queryOrder.page = 0;\n        self.init(); //加载数据\n      }, 500);\n    },\n    init: function init() {\n      var self = this;\n      self.queryOrder.page = 1;\n      self.total = 0;\n      Promise.all([self.getOrderList(self)]).then(function (results) {\n        if (results[0]) {\n          if (results[0].length < 20) {\n            self.loadingText = '';\n          }\n\n          self.isLoading = false; //关闭下拉刷新效果\n        }\n      }).catch(function (e) {});\n    },\n    onLoad: function onLoad() {\n      var _this = this;\n\n      var self = this;\n      self.queryOrder.page = self.queryOrder.page + 1;\n      Promise.all([self.getOrderList(self)]).then(function (results) {\n        if (results[0]) {\n          if (self.queryOrder.page * 20 > self.total) {\n            self.loading = false; //关闭下拉刷新效果\n\n            self.finished = true;\n            _this.loadingText = '没有更多数据';\n            return;\n          }\n        } // 加载状态结束 手动结束上次的加载\n\n\n        _this.loading = false;\n      }).catch(function (e) {});\n      this.loadingText = '下拉展示更多';\n    },\n    getOrderList: function getOrderList(self) {\n      var _this2 = this;\n\n      if (self) {\n        return new Promise(function (resolve, reject) {\n          ajax.getTrade(self.queryOrder).then(function (response) {\n            if (!response.success === true) {\n              self.orderList = [];\n              self.total = 0;\n              return reject({});\n            } else {\n              var lists = [];\n              response.data.items.forEach(function (it) {\n                if ((it.tradeType === '1' || it.tradeType === 1) && it.refundStatus.length > 0 && it.tradeOrderStatus !== '8' && it.refundStatus !== '0') {\n                  it.tradeOrderStatus = '-1'; // 有退款的处理 支付单\n                }\n\n                var item = _objectSpread({}, it, {\n                  payType: payFundStatus(it.payType),\n                  status: it.tradeType === '1' || it.tradeType === 1 ? orderStatus(it.tradeOrderStatus) : it.tradeType === '0' || it.tradeType === 0 ? refundStatus(it.refundStatus) : ''\n                });\n\n                lists.push(item);\n              });\n              self.orderList = self.orderList.concat(lists);\n              self.total = response.data.totalCount;\n              return resolve(lists);\n            }\n          }).catch(function () {\n            self.orderList = [];\n            self.total = 0;\n            return reject({});\n          });\n        });\n      } else {\n        return new Promise(function (resolve, reject) {\n          ajax.getTrade(_this2.queryOrder).then(function (response) {\n            if (!response.success === true) {\n              _this2.orderList = [];\n              _this2.total = 0;\n              return resolve(_this2.orderList);\n            } else {\n              var lists = [];\n              response.data.items.forEach(function (it) {\n                if ((it.tradeType === '1' || it.tradeType === 1) && it.refundStatus.length > 0 && it.refundStatus !== '0') {\n                  it.tradeOrderStatus = '-1'; // 有退款的处理 支付单\n                }\n\n                var item = _objectSpread({}, it, {\n                  payType: payFundStatus(it.payType),\n                  status: it.tradeType === '1' || it.tradeType === 1 ? orderStatus(it.tradeOrderStatus) : it.tradeType === '0' || it.tradeType === 0 ? refundStatus(it.refundStatus) : ''\n                });\n\n                lists.push(item);\n              });\n              _this2.orderList = _this2.orderList.concat(lists);\n              _this2.total = response.data.totalCount;\n              return resolve(lists);\n            }\n          }).catch(function () {\n            _this2.orderList = [];\n            _this2.total = 0;\n            return reject({});\n          });\n        });\n      }\n    },\n    getOrderSumAmount: function getOrderSumAmount() {\n      var _this3 = this;\n\n      ajax.getTradeSumAmount({\n        startDate: this.queryOrder.startDate,\n        endDate: this.queryOrder.endDate,\n        orderStatus: '',\n        // 0 待支付，2 成功，8 订单关闭， 10 退款\n        tradeOrderNo: '',\n        payOrderType: 'xxsk'\n      }).then(function (response) {\n        if (!response.success === true) {} else {\n          if (response.data) {\n            _this3.orderSumAmount = _objectSpread({}, _this3.orderSumAmount, {\n              total: response.data.tradeTotalAmount + '' || '',\n              out: response.data.tradeOutAmount + '' || '',\n              in: response.data.tradeInAmount + '' || ''\n            });\n          }\n        }\n      }).catch(function () {});\n    },\n    orderStatusAction: function orderStatusAction() {\n      var orderStatus = {\n        'all': '',\n        'success': '2',\n        'close': '8',\n        'wait': '0',\n        'refund': '10'\n      };\n      var orderText = {\n        'all': '全部',\n        'success': '交易成功',\n        'close': '订单关闭',\n        'wait': '待支付',\n        'refund': '退款'\n      };\n      this.orderStatusText = orderText[this.orderSelected];\n      this.orderStatusActive = true;\n      this.queryOrder = _objectSpread({}, this.queryOrder, {\n        orderStatus: orderStatus[this.orderSelected],\n        page: 1\n      });\n      this.orderStatusShow = false;\n      this.orderList = [];\n      this.total = 0;\n      this.init();\n    },\n    orderStatusToggleHandle: function orderStatusToggleHandle() {\n      this.orderStatusShow = !this.orderStatusShow;\n    },\n    orderStatusChooseHandle: function orderStatusChooseHandle(key) {\n      this.orderSelected = key;\n    },\n    orderHistoryAction: function orderHistoryAction() {\n      var _this4 = this;\n\n      setTimeout(function () {\n        _this4.$router.push({\n          name: 'businessSearch'\n        });\n      }, 800);\n    },\n    orderDetailAction: function orderDetailAction(no, tradeType) {\n      var _this5 = this;\n\n      setTimeout(function () {\n        _this5.$router.push({\n          name: 'businessDetail',\n          query: {\n            tradeOrderNo: no,\n            tradeType: tradeType // date: moment(this.dateSearch).format(\"YYYYMMDD\"),\n            // orderStatusStr: this.orderSelected\n\n          }\n        });\n      }, 800);\n    },\n    dateChangeAction: function dateChangeAction() {\n      this.dateTimePickerStatus = true;\n    },\n    dateTimeChangeAction: function dateTimeChangeAction(picker) {},\n    dateTimeCancelAction: function dateTimeCancelAction() {\n      this.dateTimePickerStatus = false;\n    },\n    dateTimeConfirmAction: function dateTimeConfirmAction(values) {\n      this.dateSearch = values;\n      this.dateTimePickerStatus = false;\n      this.queryOrder = _objectSpread({}, this.queryOrder, {\n        page: 1,\n        startDate: moment(this.dateSearch).format(\"YYYYMMDD\") + '000000',\n        endDate: moment(this.dateSearch).format(\"YYYYMMDD\") + \"235959\"\n      });\n      this.init();\n\n      if (this.queryOrder.orderStatus.length == 0) {\n        this.getOrderSumAmount();\n      }\n    },\n    navBackClick: function navBackClick() {\n      var _this6 = this;\n\n      setTimeout(function () {\n        _this6.$router.push({\n          name: 'home'\n        });\n      }, 800);\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <van-nav-bar\n                class=\"bar-wrapper\"\n                :title=\"this.$route.meta.title\"\n                left-arrow\n                :z-index=\"999\"\n                @click-left=\"navBackClick\"\n        />\n        <div class=\"dailyKnots-wrapper container-wrapper white\" style=\"overflow: auto\">\n            <div class=\"panel-item flex-content flex-content-align flex-content-spaceBetween\">\n                <div class=\"panel-item-select\"\n                     @click=\"orderStatusToggleHandle()\"\n                     :class=\"[orderStatusShow ? 'panel-item-select_down':'',\n                     orderStatusActive ? 'active' : ''\n                     ]\"\n                >{{orderStatusText}}\n                </div>\n                <div @click=\"orderHistoryAction()\"\n                     class=\"\"\n                >\n                    <i class=\"icon-search\"></i>\n                    搜索\n                </div>\n            </div>\n            <div class=\"panel-downContainer\" v-if=\"orderStatusShow\">\n                <ul class=\"panel-downBody\">\n                    <li\n                            v-for=\"(item,key) in orderStatusList\"\n                            :key=\"item.key\"\n                            :style=\"key === 5 ? {visibility: 'hidden'} : {}\"\n                            :class=\"item.key === orderSelected ? 'active' :''\"\n                            @click=\"orderStatusChooseHandle(item.key)\"\n                            class=\"panel-downBody-item flex-content flex-content-align flex-content-justify\"\n                    >{{item.value}}\n                    </li>\n                </ul>\n                <button\n                        class=\"\n                         btn\n                         btn-block\n                         btn-primary\n                         mt10\"\n                        @click=\"orderStatusAction()\"\n                >确定\n                </button>\n            </div>\n            <div class=\"interval-item flex-content flex-content-align flex-content-spaceBetween\">\n                <div class=\"date-select-box\"\n                     @click=\"dateChangeAction()\">\n                    <span>{{this.dateSearch|$_filters_parseDate}}</span>\n                    <i class=\"icon-triangle-dark ml5\"></i>\n                </div>\n                <div class=\"\"\n                     v-if=\"this.orderList && this.orderList.length>0 &&\n                      this.queryOrder.orderStatus.length == 0\">\n                    <div class=\"font-xs-l\">实收&nbsp;<span v-if=\"this.orderSumAmount.total\">￥{{orderSumAmount.total|$_filters_moneyFormat_fen}}</span>\n                        <span class=\"ml20\">收入&nbsp;<span v-if=\"this.orderSumAmount.in\">￥{{orderSumAmount.in|$_filters_moneyFormat_fen}}</span></span>\n                    </div>\n                    <div class=\"font-xs-l flex-content flex-content-end\">退款&nbsp;<span v-if=\"this.orderSumAmount.out\">￥{{orderSumAmount.out|$_filters_moneyFormat_fen}}</span>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"set-form cell-group\"\n                 v-if=\"this.orderList && this.orderList.length>0\"\n            >\n                <van-pull-refresh\n                        v-model=\"isLoading\"\n                        @refresh=\"onRefresh\">\n                    <van-list\n                            v-model=\"loading\"\n                            :finished=\"finished\"\n                            @load=\"onLoad\"\n                            :finished-text=\"loadingText\"\n                            :offset=\"offset\"\n                    >\n                        <div class=\"cell\"\n                             v-for=\"(item, key) in this.orderList\"\n                             :key=\"key\"\n                             @click=\"orderDetailAction(item.tradeOrderNo || '', item.tradeType || '')\"\n                        >\n                            <div class=\"cell-inner flex-content flex-content-spaceBetween\"\n                                 style=\"min-height: 102px;\"\n                            >\n                                <div class=\"flex-content flex-content-top\">\n                                    <i class=\"icon-payType mr10\"\n                                       :class=\"item.payType === 'wx' ? 'icon-payType_wx' :\n                               item.payType === 'alipay' ? 'icon-payType_alipay' :\n                                item.payType === 'wm' ? 'icon-payType_wm' :'icon-payType_wm'\"\n                                    ></i>\n                                    <div>\n                                        <div class=\"font-n-d\">{{item.tradeOrderName}}</div>\n                                        <div class=\"font-s-d mt10 text-ellipsis\" v-if=\"item.payType\">\n                                            {{item.payType=== 'alipay'? '支付宝': item.payType=== 'wx'? '微信':\n                                            item.payType===\n                                            'wm'?\n                                            '微脉':''}}订单号:<span\n                                                v-if=\"item.tradeThirdNo\">{{item.tradeThirdNo}}</span>\n                                        </div>\n                                        <div class=\"font-s-d text-ellipsis mb6\"\n                                             :class=\"!item.payType || (item.payType!== 'alipay' && item.payType!== 'wx') ? 'mt10' : ''\"\n                                        >\n                                            支付流水号:<span v-if=\"item.tradeOrderNo\">{{item.tradeOrderNo}}</span>\n                                        </div>\n                                        <div class=\"time\" v-if=\"item.createTime\">\n                                            {{item.createTime|$_filters_parseTime_hour}}\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div class=\"cell-right\">\n                                    <div class=\"font-l-d\"\n                                         style=\"position: absolute; top: 16px; right: 0;\">\n                                    <span v-if=\"((item.tradeAmount+'').indexOf('+')) <= -1 &&\n                                     ((item.tradeAmount+'').indexOf('-') <= -1)\">\n                                        {{item.tradeType|$_filters_moneyMark}}\n                                    </span>\n                                        {{item.tradeAmount|$_filters_moneyFormat_fen}}\n                                    </div>\n                                    <div class=\"font-s-b mt4 align-r\"\n                                         style=\"position: absolute; bottom: 16px; right: 0;\"\n                                         :class=\"item.status === '订单关闭' ? 'gray' : item.status === '待支付' ? 'orange' : ''\"\n                                    >{{item.status}}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </van-list>\n                </van-pull-refresh>\n            </div>\n\n            <div\n                    v-else\n                    class=\"order-none-container\"\n            >\n                <div class=\"prompt-item prompt_small\">\n                    <i class=\"prompt-img noneFound\"></i>\n                    <div class=\"font-l-d align-c mt14\">还没有交易记录哦！</div>\n                </div>\n            </div>\n\n            <van-popup\n                    v-model=\"dateTimePickerStatus\"\n                    position=\"bottom\"\n                    :overlay=\"true\"\n            >\n                <van-datetime-picker\n                        v-model=\"dateSearch\"\n                        v-if=\"dateTimePickerStatus\"\n                        type=\"date\"\n                        :min-date=\"minDate\"\n                        :max-date=\"maxDate\"\n                        :item-height=\"34\"\n                        @change=\"dateTimeChangeAction\"\n                        @cancel=\"dateTimeCancelAction\"\n                        @confirm=\"dateTimeConfirmAction\"\n                />\n            </van-popup>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {\n        Tag,\n        Col,\n        Icon,\n        Cell,\n        CellGroup,\n        Swipe,\n        Toast,\n        SwipeItem,\n        GoodsAction,\n        GoodsActionBigBtn,\n        GoodsActionMiniBtn,\n        DatetimePicker,\n        Popup,\n        PullRefresh,\n        List\n    } from 'vant';\n    import storeData from './store/index';\n    import ajax from '@/api/business';\n    import moment from 'moment';\n    import {payFundStatus} from '@/filters/status';\n    import {orderStatus, refundStatus} from './filters';\n\n    export default {\n        components: {\n            [Tag.name]: Tag,\n            [Col.name]: Col,\n            [Icon.name]: Icon,\n            [Cell.name]: Cell,\n            [CellGroup.name]: CellGroup,\n            [Swipe.name]: Swipe,\n            [SwipeItem.name]: SwipeItem,\n            [GoodsAction.name]: GoodsAction,\n            [GoodsActionBigBtn.name]: GoodsActionBigBtn,\n            [GoodsActionMiniBtn.name]: GoodsActionMiniBtn,\n            DatetimePicker: DatetimePicker,\n            Popup: Popup,\n            [PullRefresh.name]: PullRefresh,\n            [List.name]: List,\n        },\n\n        data() {\n            return Object.assign(storeData.call(this), {\n                queryOrder: {\n                    orderStatus: '', // 0 待支付，2 成功，8 订单关闭， 10 退款\n                    startDate: '',\n                    endDate: '',\n                    tradeOrderNo: '',\n                    payOrderType: 'xxsk',\n                    limit: 20,\n                    page: 1\n                },\n                orderStatusShow: false,\n                orderObject: {\n                    '0': '待支付',\n                    '2': '交易成功',\n                    '8': '订单关闭',\n                    '10': '有退款'\n                },\n                orderSumAmount: {\n                    total: '',\n                    in: '',\n                    out: ''\n                },\n                dateTimePickerStatus: false,\n                minDate: '',\n                maxDate: '',\n                orderStatusText: '全部',\n                orderStatusActive: false,\n\n                total: 0,\n                isLoading: false, //控制下拉刷新的加载动画\n                loading: false, //控制上拉加载的加载动画\n                finished: false,//控制在页面往下移动到底部时是否调用接口获取数据\n                loadingText: '加载中…',\n                offset: 20\n            });\n        },\n        created() {\n\n            // 详情退回到首页 按日期查询\n            if (this.$route.query && this.$route.query.date) {\n                this.dateSearch = new Date(this.$route.query.date.slice(0, 4), this.$route.query.date.slice(4, 6) * 1 - 1, this.$route.query.date.slice(6, 8));\n            } else {\n                this.dateSearch = new Date();\n            }\n\n            if (this.$route.query && this.$route.query.orderStatusStr) {\n                this.orderSelected = this.$route.query.orderStatusStr;\n            }\n\n            this.minDate = new Date(2019, 0, 1);\n            this.maxDate = new Date();\n            this.queryOrder = {\n                ...this.queryOrder,\n                page: 1,\n\n                startDate:\n                moment(this.dateSearch).format(\"YYYYMMDD\") + '000000',\n                endDate:\n                moment(this.dateSearch).format(\"YYYYMMDD\") + \"235959\"\n            };\n            this.getOrderSumAmount();\n            this.init();\n        },\n        methods: {\n            //下拉刷新\n            onRefresh() {\n                let self = this;\n                setTimeout(() => {\n                    self.total = 0;\n                    self.queryOrder.page = 0;\n                    self.init(); //加载数据\n                }, 500);\n            },\n            init() {\n                let self = this;\n\n                self.queryOrder.page = 1;\n                self.total = 0;\n\n                Promise.all([self.getOrderList(self)]).then(\n                    (results) => {\n                        if (results[0]) {\n                            if (results[0].length < 20) {\n                                self.loadingText = '';\n                            }\n                            self.isLoading = false; //关闭下拉刷新效果\n                        }\n                    }\n                ).catch((e) => {\n                });\n            },\n            onLoad() {\n                let self = this;\n                self.queryOrder.page = self.queryOrder.page + 1;\n                Promise.all([self.getOrderList(self)]).then(\n                    (results) => {\n                        if (results[0]) {\n                            if (self.queryOrder.page*20 > self.total) {\n                                self.loading = false; //关闭下拉刷新效果\n                                self.finished = true;\n\n                                this.loadingText = '没有更多数据';\n                                return;\n                            }\n                        }\n                        // 加载状态结束 手动结束上次的加载\n                        this.loading = false;\n                    }\n                ).catch((e) => {\n                });\n                this.loadingText = '下拉展示更多';\n            },\n\n            getOrderList(self) {\n                if (self) {\n                    return new Promise((resolve, reject) => {\n                        ajax.getTrade(self.queryOrder).then(response => {\n\n                            if (!response.success === true) {\n                                self.orderList = [];\n                                self.total = 0;\n                                return reject({});\n                            } else {\n                                let lists = [];\n                                response.data.items.forEach(it => {\n                                    if ((it.tradeType === '1' || it.tradeType === 1)\n                                        && it.refundStatus.length > 0 && it.tradeOrderStatus !== '8' && it.refundStatus !== '0') {\n                                        it.tradeOrderStatus = '-1'; // 有退款的处理 支付单\n                                    }\n\n                                    let item = {\n                                        ...it,\n                                        payType: payFundStatus(it.payType),\n                                        status: it.tradeType === '1' || it.tradeType === 1 ? orderStatus(it.tradeOrderStatus) :\n                                            it.tradeType === '0' || it.tradeType === 0 ? refundStatus(it.refundStatus) : ''\n                                    };\n                                    lists.push(item);\n                                });\n                                self.orderList = self.orderList.concat(lists);\n                                self.total = response.data.totalCount;\n                                return resolve(\n                                    lists\n                                );\n                            }\n                        }).catch(() => {\n                            self.orderList = [];\n                            self.total = 0;\n                            return reject({});\n                        });\n                    });\n                } else {\n                    return new Promise((resolve, reject) => {\n                        ajax.getTrade(this.queryOrder).then(response => {\n\n                            if (!response.success === true) {\n                                this.orderList = [];\n                                this.total = 0;\n                                return resolve(\n                                    this.orderList\n                                );\n                            } else {\n                                let lists = [];\n                                response.data.items.forEach(it => {\n                                    if ((it.tradeType === '1' || it.tradeType === 1) && (it.refundStatus.length > 0 && it.refundStatus !== '0')) {\n                                        it.tradeOrderStatus = '-1'; // 有退款的处理 支付单\n                                    }\n\n                                    let item = {\n                                        ...it,\n                                        payType: payFundStatus(it.payType),\n                                        status: it.tradeType === '1' || it.tradeType === 1 ? orderStatus(it.tradeOrderStatus) :\n                                            it.tradeType === '0' || it.tradeType === 0 ? refundStatus(it.refundStatus) : ''\n                                    };\n                                    lists.push(item);\n                                });\n                                this.orderList = this.orderList.concat(lists);\n                                this.total = response.data.totalCount;\n                                return resolve(\n                                    lists\n                                );\n                            }\n                        }).catch(() => {\n                            this.orderList = [];\n                            this.total = 0;\n                            return reject({});\n                        });\n                    });\n                }\n            },\n            getOrderSumAmount() {\n                ajax.getTradeSumAmount({\n                    startDate: this.queryOrder.startDate,\n                    endDate: this.queryOrder.endDate,\n                    orderStatus: '', // 0 待支付，2 成功，8 订单关闭， 10 退款\n                    tradeOrderNo: '',\n                    payOrderType: 'xxsk',\n                }).then(response => {\n                    if (!response.success === true) {\n\n                    } else {\n                        if (response.data) {\n                            this.orderSumAmount = {\n                                ...this.orderSumAmount,\n                                total: response.data.tradeTotalAmount + '' || '',\n                                out: response.data.tradeOutAmount + '' || '',\n                                in: response.data.tradeInAmount + '' || ''\n                            }\n                        }\n                    }\n                }).catch(() => {\n                });\n            },\n            orderStatusAction() {\n                const orderStatus = {\n                    'all': '',\n                    'success': '2',\n                    'close': '8',\n                    'wait': '0',\n                    'refund': '10'\n                };\n\n                const orderText = {\n                    'all': '全部',\n                    'success': '交易成功',\n                    'close': '订单关闭',\n                    'wait': '待支付',\n                    'refund': '退款'\n                };\n\n                this.orderStatusText = orderText[this.orderSelected];\n                this.orderStatusActive = true;\n                this.queryOrder = {\n                    ...this.queryOrder,\n                    orderStatus: orderStatus[this.orderSelected],\n                    page: 1\n                };\n                this.orderStatusShow = false;\n\n                this.orderList = [];\n                this.total = 0;\n\n                this.init();\n            },\n            orderStatusToggleHandle() {\n                this.orderStatusShow = !this.orderStatusShow;\n            },\n            orderStatusChooseHandle(key) {\n                this.orderSelected = key;\n            },\n            orderHistoryAction() {\n                setTimeout(() => {\n                    this.$router.push({\n                        name: 'businessSearch'\n                    });\n                }, 800);\n            },\n            orderDetailAction(no, tradeType) {\n                setTimeout(() => {\n                    this.$router.push({\n                        name: 'businessDetail',\n                        query: {\n                            tradeOrderNo: no,\n                            tradeType: tradeType,\n                            // date: moment(this.dateSearch).format(\"YYYYMMDD\"),\n                            // orderStatusStr: this.orderSelected\n                        }\n                    });\n                }, 800);\n            },\n            dateChangeAction() {\n                this.dateTimePickerStatus = true;\n            },\n            dateTimeChangeAction(picker) {\n\n            },\n            dateTimeCancelAction() {\n                this.dateTimePickerStatus = false;\n            },\n            dateTimeConfirmAction(values) {\n                this.dateSearch = values;\n                this.dateTimePickerStatus = false;\n\n                this.queryOrder = {\n                    ...this.queryOrder,\n                    page: 1,\n                    startDate:\n                    moment(this.dateSearch).format(\"YYYYMMDD\") + '000000',\n                    endDate:\n                    moment(this.dateSearch).format(\"YYYYMMDD\") + \"235959\"\n                };\n\n                this.init();\n\n                if (this.queryOrder.orderStatus.length == 0) {\n                    this.getOrderSumAmount();\n                }\n            },\n            navBackClick() {\n                setTimeout(() => {\n                    this.$router.push({\n                        name: 'home'\n                    });\n                }, 800);\n            },\n        }\n    };\n</script>\n\n<style lang=\"less\" scoped>\n    @import \"../../style/formation.less\";\n\n    .time {\n        color: @text-color-light;\n        font-size: @font-smaller;\n        line-height: 1.5;\n    }\n\n    .icon-search {\n        vertical-align: middle;\n    }\n\n</style>\n"],"sourceRoot":"src/view/business"}]}